{% extends 'base_admin.html' %}
{% load static %}

{% block title %}Checklist de Viatura (Em Branco){% endblock %}

{% block extra_style %}
<style>
    @media print {
        .no-print { display: none !important; }
        .print-header {
            background: #8b5cf6 !important;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
    }

    .sheet {
        background: white;
        color: #111;
        max-width: 900px;
        margin: 16px auto;
        padding: 24px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
    }
    
    .title {
        font-size: 20px;
        font-weight: 700;
        margin: 0;
    }
    .meta { font-size: 12px; opacity: .9; }
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .field { display: flex; gap: 8px; align-items: center; }
    .label { width: 180px; font-weight: 600; }
    .line { flex: 1; border-bottom: 1px dashed #bbb; height: 16px; }

    .category {
        margin-top: 18px;
        border: 1px solid #e5e7eb;
        border-radius: 10px;
        overflow: hidden;
    }
    .category-title { background: #f3f4f6; padding: 10px 14px; font-weight: 700; }
    .items { padding: 10px 14px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .item { display: flex; align-items: center; gap: 10px; }
    .box { width: 16px; height: 16px; border: 2px solid #111; display: inline-block; }
    .item-label { flex: 1; }

    .sign { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 24px; }
    .sign-block { text-align: center; }
    .sign-line { border-top: 1px solid #111; margin-top: 40px; padding-top: 4px; font-size: 12px; }

    .actions { display: flex; justify-content: space-between; margin-bottom: 12px; }
    .btn { padding: 10px 14px; border-radius: 10px; text-decoration: none; font-weight: 600; }
    .btn-back { background: var(--surface-dark); color: var(--text-primary); border: 1px solid var(--border-color); }
    .btn-print { background: var(--accent-primary); color: #fff; }
</style>
{% endblock %}

{% block content %}
<div class="sheet">
    <div class="actions no-print">
        <a href="{% url 'stock:logistica:checklist_list' %}" class="btn -back">
            <i class="fas fa-arrow-left"></i> Voltar
        </a>
        <a href="#" onclick="event.preventDefault(); event.preventDefault(); window.print(); " class="btn -print">
            <i class="fas fa-print"></i> Imprimir
        </a>
    </div>

    <div class="print-header">
        <h1 class="title">Checklist de Viatura - Em Branco</h1>
        <div class="meta">
            Data: ______________________<br/>
            Local: ______________________
        </div>
    </div>

    <div class="grid-2">
        <div class="field"><div class="label">Veículo</div><div class="line"></div></div>
        <div class="field"><div class="label">Tipo</div><div class="line"></div></div>
        <div class="field"><div class="label">Inspetor</div><div class="line"></div></div>
        <div class="field"><div class="label">Motorista</div><div class="line"></div></div>
        <div class="field"><div class="label">Quilometragem</div><div class="line"></div></div>
    </div>

    {% for categoria, itens in itens_por_categoria.items %}
        <div class="category">
            <div class="category-title">{{ categoria }}</div>
            <div class="items">
                {% for cod, rotulo in itens %}
                    <div class="item">
                        <span class="box"></span>
                        <div class="item-label">{{ rotulo }}</div>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endfor %}

    <div class="category">
        <div class="category-title">Observações</div>
        <div class="items" style="grid-template-columns: 1fr; min-height: 120px;">
            
        </div>
    </div>

    <div class="sign">
        <div class="sign-block">
            <div class="sign-line">Assinatura do Inspetor</div>
        </div>
        <div class="sign-block">
            <div class="sign-line">Assinatura do Motorista</div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Nenhuma lógica: impressão direta
</script>
{% endblock %}



